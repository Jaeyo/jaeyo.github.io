<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><style data-href="/styles.e4341d76e25e5efb0870.css">.tl-edges{max-width:100%;overflow-x:hidden}.tl-wrapper{width:100%;float:left;position:relative}.tl-wrapper+.tl-wrapper{margin-left:-100%;margin-right:0}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-4124805c0503dbfe42dd67d7f5715964.woff2) format("woff2"),url(/static/montserrat-latin-100-c8fb2f714bbc7bc3e8dfffa916b286dc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e4bf47bd171a9b2a72dd84c58bf90edf.woff2) format("woff2"),url(/static/montserrat-latin-100italic-d1f3f2d02ee4d7d2d4b1ad865014f189.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-444ae007121264bc1969d49b4031f9b2.woff2) format("woff2"),url(/static/montserrat-latin-200-edbce16a90aa22c297a0307b85789837.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-f316c5d1ec40f3e68654c3f38b3999f3.woff2) format("woff2"),url(/static/montserrat-latin-200italic-d7bbb730d9b5e11720b3eb32326dcca7.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-0a7c6df06e85d978d096d4d18fd8d43d.woff2) format("woff2"),url(/static/montserrat-latin-300-5e86df2cad22d2ef2b03516334afae5e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-c076c4892bc7a4be7b9097e97a35012d.woff2) format("woff2"),url(/static/montserrat-latin-300italic-37c74a8d2d0d36a0a2c6e9a37ee15b0c.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-501ce09c42716a2f6e1503a25eb174c9.woff2) format("woff2"),url(/static/montserrat-latin-400-f29d2b8559699b6beb5b29b25b8bc572.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-882908d9950d9c86ebd380877f293d95.woff2) format("woff2"),url(/static/montserrat-latin-400italic-22e7b04e5f2a901d49d4d342315a715a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-f0f2716c5fe401d175b88715e7d28685.woff2) format("woff2"),url(/static/montserrat-latin-500-991b453bf90a0980e78966d2af7e3d3a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-4590ebba421b3288c305305d7fa7b504.woff2) format("woff2"),url(/static/montserrat-latin-500italic-f3d41e4cdcc2314e49ddcea751d6f87f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-15c24f7109941777774ddd2c636c6a50.woff2) format("woff2"),url(/static/montserrat-latin-600-f6dc6096f48956908c1787d9a722570a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-6d10b80529d5c36c7c09fca7193af0fc.woff2) format("woff2"),url(/static/montserrat-latin-600italic-02c4833312d94b1b0866f073023a250e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-79982cd1f74c6fa7451bf9b37ead09ff.woff2) format("woff2"),url(/static/montserrat-latin-700-957e93fbbe131a59791cd820d98b7109.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-283438e9577fe6a684466bb100e105ec.woff2) format("woff2"),url(/static/montserrat-latin-700italic-ca627c5ccc65cf80c2ecaea44b997de9.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-35386154b78d046218fc8f88a44ff515.woff2) format("woff2"),url(/static/montserrat-latin-800-756655905d91b77960888262e7d58d35.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-e1b52a7bd83e2324db6d92bdc206844c.woff2) format("woff2"),url(/static/montserrat-latin-800italic-a69f0add9d86c1a84311d7dd8693ba4a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-260c2ea3ef57feb82251952e605a36d5.woff2) format("woff2"),url(/static/montserrat-latin-900-186cae8091da578150d81958e217714a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-d785fb9fc74588ffb7f306799709a97d.woff2) format("woff2"),url(/static/montserrat-latin-900italic-43b527fe77254f97ea36e2b54e845ec4.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.13.52"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">mariadb multi source replication | Hello, there</title><meta data-react-helmet="true" content="multi source replication 절차 slave가 될 mysql 인스턴스의 설정에 아래의 부분을 추가한다. master 데이터베이스에서 replication 용 계정 생성 후 권한을 부여한다 mysqldump 를 이용해서 master…" name="description"/><meta data-react-helmet="true" content="mariadb multi source replication" property="og:title"/><meta data-react-helmet="true" content="multi source replication 절차 slave가 될 mysql 인스턴스의 설정에 아래의 부분을 추가한다. master 데이터베이스에서 replication 용 계정 생성 후 권한을 부여한다 mysqldump 를 이용해서 master…" property="og:description"/><meta data-react-helmet="true" content="website" property="og:type"/><meta data-react-helmet="true" content="summary" name="twitter:card"/><meta data-react-helmet="true" content="Jaeyo" name="twitter:creator"/><meta data-react-helmet="true" content="mariadb multi source replication" name="twitter:title"/><meta data-react-helmet="true" content="multi source replication 절차 slave가 될 mysql 인스턴스의 설정에 아래의 부분을 추가한다. master 데이터베이스에서 replication 용 계정 생성 후 권한을 부여한다 mysqldump 를 이용해서 master…" name="twitter:description"/><meta data-react-helmet="true" content="SaaS, Multi Tenancy, Go, General, CockroachDB, Self Improvement, Architecture, Business, Career, Developer, Resume, Presentation, Clean Code, Trouble Shooting, Cache, Infra, Study, OOP, Etc, Computer Science, Kubernetes, Database, Sharding, DDD, Finite State Machine, Linux, Open Source, Edge Computing, Docker, Performance, Monitoring, React, Remote WorkCompany, Culture" name="keywords"/><style data-styled="eXacqy fUdvHp iGTiqf eSKIxg bJtViV fTTapg dexGYY fYOlJB cVYaYg olKBH eETzHY oKrzS gPKqhR humgxq cAHKeS fOzzqE dMhyVf" data-styled-version="4.3.2">
/* sc-component-id: bio__Content-sc-137rv77-0 */
.humgxq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:0.40625rem;}
/* sc-component-id: bio__Avatar-sc-137rv77-1 */
.cAHKeS{border-radius:100%;margin-bottom:0;margin-right:0.8125rem;min-width:50px;}
/* sc-component-id: layout__StyledH3-z7e7u9-1 */
.fUdvHp{font-family:Montserrat,sans-serif;margin-top:0;}
/* sc-component-id: layout__StyledLink-z7e7u9-2 */
.iGTiqf{box-shadow:none;color:inherit;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: layout__Content-z7e7u9-3 */
.eXacqy{margin-left:auto;margin-right:auto;max-width:39rem;padding:2.4375rem 1.21875rem;}
/* sc-component-id: tag-box__StyledSpan-odnwx-0 */
.eSKIxg{background-color:#964236;color:#eeeeee;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}.bJtViV{background-color:#f4f904;color:#222222;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}.fTTapg{background-color:#6c234a;color:#eeeeee;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}.dexGYY{background-color:#7e077c;color:#eeeeee;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}.fYOlJB{background-color:#7fd975;color:#222222;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}.cVYaYg{background-color:#d28f01;color:#eeeeee;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}.olKBH{background-color:#fd7a01;color:#eeeeee;border-radius:2px;cursor:default;font-size:11px;margin:0 2px;padding:2px 6px;max-height:20px;overflow-y:hidden;white-space:nowrap;}
/* sc-component-id: blog-post__Date-sc-1jbsnju-0 */
.eETzHY{display:block;font-size:0.87055rem;line-height:1.625rem;margin-bottom:1.625rem;margin-top:-0.40625rem;}
/* sc-component-id: blog-post__Divider-sc-1jbsnju-1 */
.oKrzS{margin:3.25rem 0;}
/* sc-component-id: blog-post__PostNavigator-sc-1jbsnju-2 */
.fOzzqE{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;list-style:none;padding:15px 0;}
/* sc-component-id: blog-post__ListNavigator-sc-1jbsnju-3 */
.dMhyVf{text-align:center;padding-bottom:30px;}
/* sc-component-id: blog-post__TagNavigator-sc-1jbsnju-4 */
.gPKqhR{list-style:none;}</style><link as="script" rel="preload" href="/webpack-runtime-c8b67b6810d043fe6937.js"/><link as="script" rel="preload" href="/styles-f10041ef80cdfb940bdf.js"/><link as="script" rel="preload" href="/app-9083383fe92cb2fbac94.js"/><link as="script" rel="preload" href="/0-c2c2df3029dc136225b2.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-tsx-3b4150e233970eaf4655.js"/><link as="fetch" rel="preload" href="/page-data/mariadb-multi-source-replication/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="tl-edges"><div class="tl-wrapper tl-wrapper--mount tl-wrapper-status--entered" style="z-index:1;opacity:1"><div class="layout__Content-z7e7u9-3 eXacqy"><header><h3 class="layout__StyledH3-z7e7u9-1 fUdvHp"><a class="layout__StyledLink-z7e7u9-2 iGTiqf" href="/">Hello, there</a></h3></header><main><h1>mariadb multi source replication</h1><p><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#222222" class="tag-box__StyledSpan-odnwx-0 bJtViV">mariadb</span></p><p class="blog-post__Date-sc-1jbsnju-0 eETzHY">April 28, 2017</p><div><h2>multi source replication 절차</h2>
<p>slave가 될 mysql 인스턴스의 설정에 아래의 부분을 추가한다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/mysql/maridb.conf.d/50-server.cnf</span>
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token assign-left variable">server_id</span><span class="token operator">=</span><span class="token number">19823759</span> <span class="token comment"># master와 겹치지 않게</span>
replicate-ignore-db<span class="token operator">=</span>mysql <span class="token comment"># mysql 데이터베이스는 복제하지 않음</span></code></pre></div>
<p>master 데이터베이스에서 replication 용 계정 생성 후 권한을 부여한다</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">grant replication slave on *.* to ‘repl’@‘%’ identified by ‘<span class="token operator">!</span>repl123’<span class="token punctuation">;</span></code></pre></div>
<p>mysqldump 를 이용해서 master가 될 데이터베이스에서 덤프를 받는다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">mysqldump --databases database_1 database_2 --single_transaction --master-data<span class="token operator">=</span><span class="token number">1</span> -h host_path -u account -p <span class="token operator">></span> dump.sql</code></pre></div>
<p>락이 걸리는 걸 방지하기 위해 <code class="language-text">—single-transaction</code> 옵션 추가해야 하며, 덤프를 받은 시점의 binlog 파일과 포지션을 확인하기 위해 <code class="language-text">—master-data=1</code> 옵션 추가한다. 그러면 덤프 파일 상단에 <code class="language-text">change master …</code> 구문이 생성되는데 multi source 로부터 replication 을 받아야 하기 때문에 아래와 같이 수정해준다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">CHANGE MASTER <span class="token string">'master_name'</span> TO
<span class="token assign-left variable">master_host</span><span class="token operator">=</span><span class="token string">'host_path'</span>,
<span class="token assign-left variable">master_user</span><span class="token operator">=</span><span class="token string">'account'</span>,
<span class="token assign-left variable">master_password</span><span class="token operator">=</span><span class="token string">'password'</span>,
<span class="token assign-left variable">master_port</span><span class="token operator">=</span><span class="token number">3306</span>,
<span class="token assign-left variable">MASTER_LOG_FILE</span><span class="token operator">=</span><span class="token string">'mysql-bin-changelog.052616'</span>, <span class="token assign-left variable">MASTER_LOG_POS</span><span class="token operator">=</span><span class="token number">886626</span><span class="token punctuation">;</span> <span class="token comment"># dump에 기록된 그대로 유지</span></code></pre></div>
<p>만약 덤프 파일이 너무 커서 수정하기가 힘든 경우 아래와 같이 파일을 잘라서 수정한 후에 합치는 방법을 사용할 수 있다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">head</span> -n <span class="token number">30</span> dump.sql <span class="token operator">></span> new_dump.sql
<span class="token function">vim</span> new_dump.sql
<span class="token function">tail</span> -n +30 dump.sql <span class="token operator">>></span> new_dump.sql</code></pre></div>
<p>slave가 될 데이터베이스에 덤프를 밀어넣는다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">mysql -h hostpath -u account -p database_name <span class="token operator">&lt;</span> dump.sql</code></pre></div>
<p>여기서 database_name은 덤프 내 여러개의 데이터베이스가 담겨 있다고 해도 그 중 하나만 지정해도 되지만 지정된 데이터베이스는 미리 생성되어 있어야 한다.</p>
<p>replication 스레드를 시작시킨다: </p>
<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql"><span class="token keyword">start</span> slave <span class="token string">'master_name'</span></code></pre></div>
<h2>기타 유의사항</h2>
<ul>
<li>replication 설정을 위해서는 super previleges가 필요한데 aws rds를 이용하면 일반 사용자가 super previleges를 가질 수 없다.</li>
<li>
<p>binary log가 너무 빨리 rotate 되는 경우에는 아래와 같이 retention 값을 확인 및 조정할 수 있다.</p>
<ul>
<li><code class="language-text">call mysql.rds_show_configuration()</code> 으로 <code class="language-text">binlog retention hours</code> 값 확인</li>
<li><code class="language-text">call mysql.rds_set_configuration(‘binlog retention hours’, 1);</code></li>
</ul>
</li>
</ul></div><hr class="blog-post__Divider-sc-1jbsnju-1 oKrzS"/><ul class="blog-post__TagNavigator-sc-1jbsnju-4 gPKqhR"><h4>posts</h4><li><a href="/bash-is-not-async/">오늘의 삽질 - 괜히 Bash 만 의심했다.</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 fTTapg">trouble shooting</span></li><li><a href="/better-than-yesterday/">연봉과 연차의 무게</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 dexGYY">career</span></li><li><a href="/error-while-building-qmk_firmware/">qmk_firmware 빌드 시에 chibios 관련 에러 발생</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span></li><li><a href="/how-to-develop-ridistory-frontend/">리디스토리 프론트엔드 개발기</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#222222" class="tag-box__StyledSpan-odnwx-0 fYOlJB">react</span></li><li><a href="/reselect/">reselect</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span></li><li><a href="/too-many-open-files/">Too many open files</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 fTTapg">trouble shooting</span></li><li><a href="/weird-requests/">아닌 밤중에 리퀘스트가 튄다?</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 fTTapg">trouble shooting</span></li><li><a href="/git-delete-branch-and-push/">Git - branch 삭제 후 push</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 cVYaYg">git</span></li><li><a href="/aws-api-ip-based-access-control/">AWS API, IP 기반으로 접근 제한하기</a>  <span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 eSKIxg">tech</span><span color="#eeeeee" class="tag-box__StyledSpan-odnwx-0 olKBH">aws</span></li></ul><hr class="blog-post__Divider-sc-1jbsnju-1 oKrzS"/><div class="bio__Content-sc-137rv77-0 humgxq"><div class="bio__Avatar-sc-137rv77-1 cAHKeS gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px"><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAUDAgQG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAa3VmcD0CKiRoViD/8QAHBAAAgICAwAAAAAAAAAAAAAAAAECAwQhERQi/9oACAEBAAEFAudWXpTRPL1HJ89pDHFKs//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABwQAAEEAwEAAAAAAAAAAAAAAAEAAhARISJBMv/aAAgBAQAGPwJVRrpjVuVbhkcXmGnpj//EAB0QAQEAAgEFAAAAAAAAAAAAAAEAESExQWGRofD/2gAIAQEAAT8h6Y4t0QcDwMjFg9gwOy8y+jDb2iLyOZW//9oADAMBAAIAAwAAABD0Pzz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAcEAEBAQEAAgMAAAAAAAAAAAABEQAxIYFBUXH/2gAIAQEAAT8QuKgjqoIAfinXp5OY0vbi5i+WQ9aOEsiDVr6yzZ0E2+UMaTCV+tV3f//Z" alt="Jaeyo" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/03d873445b03a721d7d6afb6095804e2/9b664/profile-pic.jpg 1x,
/static/03d873445b03a721d7d6afb6095804e2/06a10/profile-pic.jpg 1.5x,
/static/03d873445b03a721d7d6afb6095804e2/f1b5a/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/03d873445b03a721d7d6afb6095804e2/9b664/profile-pic.jpg 1x,
/static/03d873445b03a721d7d6afb6095804e2/06a10/profile-pic.jpg 1.5x,
/static/03d873445b03a721d7d6afb6095804e2/f1b5a/profile-pic.jpg 2x" src="/static/03d873445b03a721d7d6afb6095804e2/9b664/profile-pic.jpg" alt="Jaeyo" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Loves writing, music, and developing.<br/>You can find me on<!-- --> <a href="https://github.com/Jaeyo">Github</a>,<!-- --> <a href="https://twitter.com/lastiverse">Twitter</a>,<!-- --> <a href="https://www.facebook.com/jaeyo.developer">Facebook</a></p></div><ul class="blog-post__PostNavigator-sc-1jbsnju-2 fOzzqE"><li><a rel="prev" href="/too-many-open-files/">← <!-- -->Too many open files</a></li><li><a rel="next" href="/drive/">운전을 하고 싶다<!-- --> →</a></li></ul><div class="blog-post__ListNavigator-sc-1jbsnju-3 dMhyVf"><a rel="list" href="/">go to list</a></div></main><footer>© <!-- -->2019<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-142557602-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/mariadb-multi-source-replication/";window.webpackCompilationHash="1712cd00d383bac34c6f";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-9083383fe92cb2fbac94.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-5e317b61da098cf3e0d2.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx-3b4150e233970eaf4655.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-875df040ee6e01d5b0c1.js"],"component---src-pages-awesome-posts-tsx":["/component---src-pages-awesome-posts-tsx-47211cde71da4b0b0692.js"],"component---src-pages-diary-tsx":["/component---src-pages-diary-tsx-8c1d06982f6727400d1e.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-ee0cc16de338e3060328.js"],"component---src-pages-resume-tsx":["/component---src-pages-resume-tsx-896c15caf6d6fce4f19e.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-tsx-3b4150e233970eaf4655.js" async=""></script><script src="/0-c2c2df3029dc136225b2.js" async=""></script><script src="/app-9083383fe92cb2fbac94.js" async=""></script><script src="/styles-f10041ef80cdfb940bdf.js" async=""></script><script src="/webpack-runtime-c8b67b6810d043fe6937.js" async=""></script></body></html>